---
- hosts: ansible
  become: yes
  vars:
    docker_image_name: "myapp"
    docker_image_tag: "v1.0"
    docker_registry: "docker.io"
    docker_username: "advit2012"
    docker_password: "{{ docker_password | default('Manjeet123') }}"  # Secure this using Ansible Vault or Jenkins credentials
    build_path: "{{ ansible_env.HOME }}"  # Adjust this path as needed
    docker_file_path: "docker"  # Adjust if Dockerfile is in a different location

  tasks:
    - name: Install Docker if not already installed
      apt:
        name: docker.io
        state: present
        update_cache: yes

    - name: Start Docker service
      service:
        name: docker
        state: started
        enabled: yes

    
